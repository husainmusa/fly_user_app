{"version":3,"sources":["webpack:///src/app/pages/direction/direction.page.html","webpack:///src/app/pages/direction/direction-routing.module.ts","webpack:///src/app/pages/direction/direction.module.ts","webpack:///src/app/pages/direction/direction.page.scss","webpack:///src/app/pages/direction/direction.page.ts"],"names":["routes","path","component","DirectionPageRoutingModule","imports","forChild","exports","DirectionPageModule","declarations","DirectionPage","api","util","route","navCtrl","iab","platform","androidPermissions","geolocation","alertController","queryParams","subscribe","data","console","log","id","lat","lng","who","uid","orderId","orderAt","homeLat","homeLng","driverLat","driverLng","parseFloat","param","post","infoss","status","length","driverInfo","loadMap","error","storeLat","storeLng","storeInfo","getMyLocation","back","create","mobile","ready","then","is","checkPermission","PERMISSION","ACCESS_FINE_LOCATION","result","hasPermission","err","requestPermission","grantRequest","getCurrentPosition","maximumAge","timeout","enableHighAccuracy","resp","myLat","coords","latitude","myLng","longitude","watch","watchPosition","iOSAlert","presentAlertConfirm","header","subHeader","message","buttons","alert","present","text","role","cssClass","handler","askPermission","marker","maps","changeMarkerPosition","latOri","lngOri","latDest","lngDest","directionsService","google","DirectionsService","directionsDisplay","DirectionsRenderer","bounds","LatLngBounds","origin1","destinationA","Map","mapElement","nativeElement","center","disableDefaultUI","zoom","custPos","LatLng","restPos","logo","url","scaledSize","Size","origin","Point","anchor","Marker","map","position","animation","Animation","DROP","icon","markerCust","setMap","setOptions","polylineOptions","strokeWeight","strokeOpacity","strokeColor","suppressMarkers","geocoder","Geocoder","service","DistanceMatrixService","getDistanceMatrix","origins","destinations","travelMode","unitSystem","UnitSystem","METRIC","avoidHighways","avoidTolls","response","originList","originAddresses","destinationList","destinationAddresses","showGeocodedAddressOnMap","asDestination","results","fitBounds","extend","geometry","location","destination","setDirections","window","i","rows","elements","geocode","j","interval","setInterval","getDriverLocation","changeMyMarker","clearInterval","latlng","setCenter","setPosition","selector","template"],"mappings":"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","file":"pages-direction-direction-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"navCtrl.back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"main_content_div\\\">\\n\\n    <div class=\\\"upper_div\\\">\\n      <div #map id=\\\"map\\\" class=\\\"map\\\"></div>\\n    </div>\\n    <div class=\\\"lower_div\\\" *ngIf=\\\"who==='driver' && driverInfo && driverInfo.cover\\\">\\n      <ion-label class=\\\"head_lbl\\\">Order on the Way</ion-label>\\n\\n      <div class=\\\"driver_detail_div\\\">\\n        <div class=\\\"back_image\\\"\\n          [ngStyle]=\\\"{'background-image':'url('+api.mediaURL+driverInfo.cover+'),url(assets/bg.png)'}\\\"></div>\\n        <div style=\\\"padding-left: 20px;\\\" (click)=\\\"callDriver()\\\">\\n          <ion-label class=\\\"boy_name\\\">{{driverInfo.first_name +' '+ driverInfo.last_name}}</ion-label>\\n          <ion-label class=\\\"boy_name\\\">\\n            <ion-icon name=\\\"mail-outline\\\"></ion-icon> {{driverInfo.email}}\\n          </ion-label>\\n          <ion-label class=\\\"boy_name\\\">\\n            <ion-icon name=\\\"call-outline\\\"></ion-icon> {{driverInfo.mobile}}\\n          </ion-label>\\n        </div>\\n      </div>\\n\\n    </div>\\n\\n    <div class=\\\"lower_div\\\" *ngIf=\\\"who === 'store' && storeInfo && storeInfo.cover\\\">\\n      <ion-label class=\\\"head_lbl\\\">Order on the Way</ion-label>\\n\\n      <div class=\\\"driver_detail_div\\\">\\n        <div class=\\\"back_image\\\"\\n          [ngStyle]=\\\"{'background-image':'url('+api.mediaURL+storeInfo.cover+'),url(assets/bg.png)'}\\\"></div>\\n        <div style=\\\"padding-left: 20px;\\\" (click)=\\\"callStore()\\\">\\n          <ion-label class=\\\"boy_name\\\">{{storeInfo.name}}</ion-label>\\n          <ion-label class=\\\"boy_name\\\">\\n            <ion-icon name=\\\"location-outline\\\"></ion-icon> {{storeInfo.address}}\\n          </ion-label>\\n          <ion-label class=\\\"boy_name\\\">\\n            <ion-icon name=\\\"call-outline\\\"></ion-icon> {{storeInfo.mobile}}\\n          </ion-label>\\n        </div>\\n      </div>\\n\\n    </div>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DirectionPage } from './direction.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DirectionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DirectionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DirectionPageRoutingModule } from './direction-routing.module';\n\nimport { DirectionPage } from './direction.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DirectionPageRoutingModule\n  ],\n  declarations: [DirectionPage]\n})\nexport class DirectionPageModule {}\n","export default \".main_content_div {\\n  width: 100%;\\n  height: 100vh;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n.main_content_div .upper_div {\\n  height: 60vh;\\n}\\n.main_content_div .upper_div #map {\\n  width: 100%;\\n  height: 100%;\\n}\\n.main_content_div .lower_div {\\n  height: 40vh;\\n  padding: 20px;\\n}\\n.main_content_div .lower_div ion-label {\\n  display: block;\\n}\\n.main_content_div .lower_div .head_lbl {\\n  font-weight: 600;\\n  font-size: 20px;\\n  margin-top: 10px;\\n}\\n.main_content_div .lower_div .driver_detail_div {\\n  margin-top: 20px;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  position: relative;\\n}\\n.main_content_div .lower_div .driver_detail_div .back_image {\\n  height: 50px !important;\\n  width: 50px !important;\\n  border-radius: 100%;\\n  background-position: center;\\n  background-size: cover;\\n  background-repeat: no-repeat;\\n  min-width: 50px;\\n}\\n.main_content_div .lower_div .driver_detail_div .boy_name {\\n  font-weight: 600;\\n}\\n.main_content_div .lower_div .driver_detail_div .address {\\n  color: gray;\\n  width: 80%;\\n}\\n.main_content_div .lower_div .driver_detail_div ion-button {\\n  position: absolute;\\n  right: -3px;\\n  top: -5px;\\n  --border-radius: 3px;\\n  font-weight: 600;\\n}\\n.main_content_div .lower_div .order_detail {\\n  font-weight: bold;\\n  margin-top: 20px;\\n}\\n.main_content_div .lower_div .order_status {\\n  background: var(--ion-color-primary);\\n  position: absolute;\\n  right: 20px;\\n  color: white;\\n  padding: 3px 8px;\\n  border-radius: 3px;\\n  text-transform: uppercase;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGlyZWN0aW9uL0U6XFxwdW5lZXRcXGZseXZpcF8yMy0wMy0yMlxcVXNlcl9hcHBfMDYtMDQtMjAyMS9zcmNcXGFwcFxccGFnZXNcXGRpcmVjdGlvblxcZGlyZWN0aW9uLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvZGlyZWN0aW9uL2RpcmVjdGlvbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGFBQUE7RUFDQSxzQkFBQTtFQUNBLDhCQUFBO0FDQ0o7QURBSTtFQUNJLFlBQUE7QUNFUjtBRERRO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUNHWjtBREFJO0VBQ0ksWUFBQTtFQUNBLGFBQUE7QUNFUjtBRERRO0VBQ0ksY0FBQTtBQ0daO0FERFE7RUFDSSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ0daO0FEQVE7RUFDSSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUNFWjtBRERZO0VBQ0ksdUJBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsMkJBQUE7RUFDQSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0EsZUFBQTtBQ0doQjtBRERZO0VBQ0ksZ0JBQUE7QUNHaEI7QUREWTtFQUNJLFdBQUE7RUFDQSxVQUFBO0FDR2hCO0FERFk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0VBQ0Esb0JBQUE7RUFDQSxnQkFBQTtBQ0doQjtBRENRO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtBQ0NaO0FEQ1E7RUFDSSxvQ0FBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7QUNDWiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RpcmVjdGlvbi9kaXJlY3Rpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5fY29udGVudF9kaXZ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDB2aDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIC51cHBlcl9kaXZ7XG4gICAgICAgIGhlaWdodDogNjB2aDtcbiAgICAgICAgI21hcHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC5sb3dlcl9kaXZ7XG4gICAgICAgIGhlaWdodDogNDB2aDtcbiAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgaW9uLWxhYmVsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkX2xibHtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLmRyaXZlcl9kZXRhaWxfZGl2e1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIC5iYWNrX2ltYWdle1xuICAgICAgICAgICAgICAgIGhlaWdodDogNTBweCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICAgIHdpZHRoOiA1MHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTAwJTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgICAgICAgICAgICAgIG1pbi13aWR0aCA6IDUwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuYm95X25hbWV7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5hZGRyZXNze1xuICAgICAgICAgICAgICAgIGNvbG9yOiBncmF5O1xuICAgICAgICAgICAgICAgIHdpZHRoOiA4MCU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpb24tYnV0dG9ue1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICByaWdodDogLTNweDtcbiAgICAgICAgICAgICAgICB0b3A6IC01cHg7XG4gICAgICAgICAgICAgICAgLS1ib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC5vcmRlcl9kZXRhaWx7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLm9yZGVyX3N0YXR1c3tcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgcGFkZGluZzogM3B4IDhweDtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgIH1cbiAgICB9ICAgXG59IiwiLm1haW5fY29udGVudF9kaXYge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xufVxuLm1haW5fY29udGVudF9kaXYgLnVwcGVyX2RpdiB7XG4gIGhlaWdodDogNjB2aDtcbn1cbi5tYWluX2NvbnRlbnRfZGl2IC51cHBlcl9kaXYgI21hcCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG4ubWFpbl9jb250ZW50X2RpdiAubG93ZXJfZGl2IHtcbiAgaGVpZ2h0OiA0MHZoO1xuICBwYWRkaW5nOiAyMHB4O1xufVxuLm1haW5fY29udGVudF9kaXYgLmxvd2VyX2RpdiBpb24tbGFiZWwge1xuICBkaXNwbGF5OiBibG9jaztcbn1cbi5tYWluX2NvbnRlbnRfZGl2IC5sb3dlcl9kaXYgLmhlYWRfbGJsIHtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuLm1haW5fY29udGVudF9kaXYgLmxvd2VyX2RpdiAuZHJpdmVyX2RldGFpbF9kaXYge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4ubWFpbl9jb250ZW50X2RpdiAubG93ZXJfZGl2IC5kcml2ZXJfZGV0YWlsX2RpdiAuYmFja19pbWFnZSB7XG4gIGhlaWdodDogNTBweCAhaW1wb3J0YW50O1xuICB3aWR0aDogNTBweCAhaW1wb3J0YW50O1xuICBib3JkZXItcmFkaXVzOiAxMDAlO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gIG1pbi13aWR0aDogNTBweDtcbn1cbi5tYWluX2NvbnRlbnRfZGl2IC5sb3dlcl9kaXYgLmRyaXZlcl9kZXRhaWxfZGl2IC5ib3lfbmFtZSB7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG4ubWFpbl9jb250ZW50X2RpdiAubG93ZXJfZGl2IC5kcml2ZXJfZGV0YWlsX2RpdiAuYWRkcmVzcyB7XG4gIGNvbG9yOiBncmF5O1xuICB3aWR0aDogODAlO1xufVxuLm1haW5fY29udGVudF9kaXYgLmxvd2VyX2RpdiAuZHJpdmVyX2RldGFpbF9kaXYgaW9uLWJ1dHRvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IC0zcHg7XG4gIHRvcDogLTVweDtcbiAgLS1ib3JkZXItcmFkaXVzOiAzcHg7XG4gIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG4ubWFpbl9jb250ZW50X2RpdiAubG93ZXJfZGl2IC5vcmRlcl9kZXRhaWwge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cbi5tYWluX2NvbnRlbnRfZGl2IC5sb3dlcl9kaXYgLm9yZGVyX3N0YXR1cyB7XG4gIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMjBweDtcbiAgY29sb3I6IHdoaXRlO1xuICBwYWRkaW5nOiAzcHggOHB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG59Il19 */\";","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { AlertController, NavController } from '@ionic/angular';\nimport { ApiService } from 'src/app/services/api.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { Platform } from '@ionic/angular';\nimport { AndroidPermissions } from '@ionic-native/android-permissions/ngx';\nimport { Geolocation, GeolocationOptions, Geoposition, PositionError } from '@ionic-native/geolocation/ngx';\ndeclare var google: any;\n@Component({\n  selector: 'app-direction',\n  templateUrl: './direction.page.html',\n  styleUrls: ['./direction.page.scss'],\n})\nexport class DirectionPage implements OnInit {\n  @ViewChild('map', { static: true }) mapElement: ElementRef;\n  map: any;\n\n  myLat: any;\n  myLng: any;\n\n  driverLat: any;\n  driverLng: any;\n\n  storeLat: any;\n  storeLng: any;\n\n  storeInfo: any;\n  driverInfo: any;\n\n  who: any;\n  uid: any;\n  interval: any;\n\n  orderAt: any;\n  homeLat: any;\n  homeLng: any;\n\n  orderId: any;\n  constructor(\n    public api: ApiService,\n    public util: UtilService,\n    private route: ActivatedRoute,\n    public navCtrl: NavController,\n    private iab: InAppBrowser,\n    private platform: Platform,\n    private androidPermissions: AndroidPermissions,\n    public geolocation: Geolocation,\n    private alertController: AlertController\n  ) {\n    this.route.queryParams.subscribe((data: any) => {\n      console.log(data);\n      if (data && data.id && data.lat && data.lng && data.who) {\n        this.uid = data.id;\n        this.orderId = data.orderId;\n        this.who = data.who;\n        this.orderAt = data.orderAt;\n        this.homeLat = data.homeLat;\n        this.homeLng = data.homeLng;\n\n        if (this.who === 'driver') {\n          this.driverLat = data.lat;\n          this.driverLng = data.lng;\n          this.homeLat = parseFloat(this.homeLat);\n          this.homeLng = parseFloat(this.homeLng);\n          this.driverLat = parseFloat(this.driverLat);\n          this.driverLng = parseFloat(this.driverLng);\n          const param = {\n            id: this.uid\n          };\n          this.api.post('drivers/getById', param).subscribe((infoss: any) => {\n            console.log('******************* driver --->>>> driverinfo --->', infoss);\n            if (infoss && infoss.status === 200 && infoss.data && infoss.data.length) {\n              this.driverInfo = infoss.data[0];\n              this.driverLat = parseFloat(infoss.data[0].lat);\n              this.driverLng = parseFloat(infoss.data[0].lng);\n              this.loadMap(this.driverLat, this.driverLng, this.homeLat, this.homeLng);\n            }\n          }, error => {\n            console.log('==>>', error);\n          });\n\n        } else {\n          this.storeLat = parseFloat(data.lat);\n          this.storeLng = parseFloat(data.lng);\n          const param = {\n            id: this.uid\n          };\n          this.api.post('stores/getByUid', param).subscribe((data: any) => {\n            console.log('*******************', data);\n            if (data && data.status === 200 && data.data && data.data.length) {\n              this.storeLat = parseFloat(data.data[0].lat);\n              this.storeLng = parseFloat(data.data[0].lng);\n              this.storeInfo = data.data[0];\n              this.getMyLocation();\n            }\n          }, error => {\n            console.log(error);\n          });\n\n        }\n      } else {\n        this.navCtrl.back();\n      }\n    });\n  }\n\n  callDriver() {\n    this.iab.create('tel:' + this.driverInfo.mobile, '_blank');\n  }\n  callStore() {\n    this.iab.create('tel:' + this.storeInfo.mobile, '_blank');\n  }\n\n\n  getMyLocation() {\n    this.platform.ready().then(() => {\n      if (this.platform.is('android')) {\n        this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION).then(\n          result => console.log('Has permission?', result.hasPermission),\n          err => this.androidPermissions.requestPermission(this.androidPermissions.PERMISSION.ACCESS_FINE_LOCATION)\n        );\n        this.grantRequest();\n      } else if (this.platform.is('ios')) {\n        this.grantRequest();\n      } else {\n        this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n          if (resp) {\n            console.log('resp', resp);\n            this.myLat = resp.coords.latitude;\n            this.myLng = resp.coords.longitude;\n            this.loadMap(this.myLat, this.myLng, this.storeLat, this.storeLng);\n          }\n        }).catch(error => {\n          console.log(error);\n          this.grantRequest();\n        });\n        const watch = this.geolocation.watchPosition();\n        watch.subscribe((data:any) => {\n          if (data && data.coords) {\n            console.log('update', data.coords);\n            this.myLat = data.coords.latitude;\n            this.myLng = data.coords.longitude;\n          }\n        });\n      }\n    });\n  }\n\n  grantRequest() {\n    this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 10000, enableHighAccuracy: false }).then((resp) => {\n      if (resp) {\n        console.log('resp 1', resp);\n        this.myLat = resp.coords.latitude;\n        this.myLng = resp.coords.longitude;\n        this.loadMap(this.myLat, this.myLng, this.storeLat, this.storeLng);\n      }\n    }).catch(error => {\n      console.log(error);\n      console.log('ASK Permission');\n      if (this.platform.is('ios')) {\n        this.iOSAlert();\n      } else {\n        this.presentAlertConfirm();\n      }\n    });\n    const watch = this.geolocation.watchPosition();\n    watch.subscribe((data:any) => {\n      if (data && data.coords) {\n        console.log('update', data.coords);\n        this.myLat = data.coords.latitude;\n        this.myLng = data.coords.longitude;\n      }\n    });\n  }\n\n  async iOSAlert() {\n    const alert = await this.alertController.create({\n      header: 'Error',\n      subHeader: 'Location error',\n      message: 'Please Enable Location Service from settings for best experience',\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n\n  async presentAlertConfirm() {\n    const alert = await this.alertController.create({\n      header: 'Alert',\n      message: 'Please Enable Location Service for best experience',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: () => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Okay',\n          handler: () => {\n            console.log('Confirm Okay');\n            this.askPermission();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  askPermission() {\n    this.getMyLocation();\n  }\n  getDriverLocation(marker, maps) {\n    const param = {\n      id: this.uid\n    };\n    this.api.post('drivers/getById', param).subscribe((data: any) => {\n      console.log('******************* driver --->>>> driverinfo --->', data);\n      if (data && data.status === 200 && data.data && data.data.length) {\n        this.driverLat = parseFloat(data.data[0].lat);\n        this.driverLng = parseFloat(data.data[0].lng);\n        this.changeMarkerPosition(marker, maps);\n      }\n    }, error => {\n      console.log('==>>', error);\n    });\n  }\n\n  loadMap(latOri, lngOri, latDest, lngDest) {\n\n    const directionsService = new google.maps.DirectionsService;\n    let directionsDisplay = new google.maps.DirectionsRenderer;\n    directionsDisplay = new google.maps.DirectionsRenderer();\n    const bounds = new google.maps.LatLngBounds;\n\n    const origin1 = { lat: parseFloat(latOri), lng: parseFloat(lngOri) };\n    const destinationA = { lat: latDest, lng: lngDest };\n\n    const maps = new google.maps.Map(this.mapElement.nativeElement, {\n      center: { lat: latOri, lng: lngOri },\n      disableDefaultUI: true,\n      zoom: 100\n    });\n\n    const custPos = new google.maps.LatLng(latOri, lngOri);\n    const restPos = new google.maps.LatLng(latDest, lngDest);\n\n    const logo = {\n      url: 'assets/marker.png',\n      scaledSize: new google.maps.Size(50, 50), // scaled size\n      origin: new google.maps.Point(0, 0), // origin\n      anchor: new google.maps.Point(0, 0) // anchor\n    };\n    const marker = new google.maps.Marker({\n      map: maps,\n      position: custPos,\n      animation: google.maps.Animation.DROP,\n      icon: logo,\n    });\n    const markerCust = new google.maps.Marker({\n      map: maps,\n      position: restPos,\n      animation: google.maps.Animation.DROP,\n    });\n    marker.setMap(maps);\n    markerCust.setMap(maps);\n\n    directionsDisplay.setMap(maps);\n    // directionsDisplay.setOptions({ suppressMarkers: true });\n    directionsDisplay.setOptions({\n      polylineOptions: {\n        strokeWeight: 4,\n        strokeOpacity: 1,\n        strokeColor: '#44C261'\n      },\n      suppressMarkers: true\n    });\n    const geocoder = new google.maps.Geocoder;\n\n    const service = new google.maps.DistanceMatrixService;\n\n    service.getDistanceMatrix({\n      origins: [origin1],\n      destinations: [destinationA],\n      travelMode: 'DRIVING',\n      unitSystem: google.maps.UnitSystem.METRIC,\n      avoidHighways: false,\n      avoidTolls: false\n    }, function (response, status) {\n      if (status !== 'OK') {\n        alert('Error was: ' + status);\n      } else {\n        const originList = response.originAddresses;\n        const destinationList = response.destinationAddresses;\n        const showGeocodedAddressOnMap = function (asDestination) {\n          return function (results, status) {\n            if (status === 'OK') {\n              maps.fitBounds(bounds.extend(results[0].geometry.location));\n            } else {\n              alert('Geocode was not successful due to: ' + status);\n            }\n          };\n        };\n\n        directionsService.route({\n          origin: origin1,\n          destination: destinationA,\n          travelMode: 'DRIVING'\n        }, function (response, status) {\n          if (status === 'OK') {\n            directionsDisplay.setDirections(response);\n          } else {\n            window.alert('Directions request failed due to ' + status);\n          }\n        });\n\n\n        for (let i = 0; i < originList.length; i++) {\n          const results = response.rows[i].elements;\n          geocoder.geocode({ 'address': originList[i] },\n            showGeocodedAddressOnMap(false));\n          for (let j = 0; j < results.length; j++) {\n            geocoder.geocode({ 'address': destinationList[j] },\n              showGeocodedAddressOnMap(true));\n          }\n        }\n      }\n    });\n    this.interval = setInterval(() => {\n      if (this.who === 'driver') {\n        this.getDriverLocation(marker, maps);\n      } else {\n        console.log('update->');\n        this.changeMyMarker(marker, maps);\n      }\n    }, 12000);\n  }\n\n  ionViewDidLeave() {\n    console.log('leaved');\n    clearInterval(this.interval);\n  }\n\n  changeMarkerPosition(marker, map) {\n    const latlng = new google.maps.LatLng(this.driverLat, this.driverLng);\n    map.setCenter(latlng);\n    marker.setPosition(latlng);\n  }\n\n  changeMyMarker(marker, map) {\n    const latlng = new google.maps.LatLng(this.myLat, this.myLng);\n    map.setCenter(latlng);\n    marker.setPosition(latlng);\n  }\n\n  ngOnInit() {\n  }\n\n}\n"]}