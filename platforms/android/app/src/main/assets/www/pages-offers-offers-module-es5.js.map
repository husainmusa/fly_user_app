{"version":3,"sources":["webpack:///src/app/pages/offers/offers.page.html","webpack:///src/app/pages/offers/offers-routing.module.ts","webpack:///src/app/pages/offers/offers.module.ts","webpack:///src/app/pages/offers/offers.page.scss","webpack:///src/app/pages/offers/offers.page.ts"],"names":["routes","path","component","OffersPageRoutingModule","imports","forChild","exports","OffersPageModule","declarations","OffersPage","api","util","navCtrl","cart","dummy","Array","list","dummyList","page","getOffers","get","subscribe","data","console","log","status","length","info","filter","x","error","errorToast","getString","back","item","min","parseFloat","totalPrice","coupon","publishCoupon","showToast","time","format","selector","template"],"mappings":"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","file":"pages-offers-offers-module-es5.js","sourcesContent":["export default \"<!-- \\n   Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 groceryee app\\n  Created : 10-Sep-2020\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n -->\\n<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title> {{util.getString('Offers')}} </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let item of dummy\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <ion-skeleton-text animated style=\\\"width: 100%;height: 50px;\\\"></ion-skeleton-text>\\n      </ion-thumbnail>\\n      <ion-label>\\n        <ion-skeleton-text animated style=\\\"width: 90%\\\"></ion-skeleton-text>\\n      </ion-label> <br>\\n\\n    </ion-item>\\n\\n    <ion-item *ngFor=\\\"let item of list\\\" (click)=\\\"selected(item)\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img [src]=\\\"api.mediaURL+item.image\\\" onError=\\\"this.src='assets/imgs/user.png'\\\" />\\n      </ion-thumbnail>\\n      <p class=\\\"couponDesc\\\">\\n        <span class=\\\"code\\\"> {{util.getString('Use coupon code')}} {{item.name}} </span> <br>\\n        <span class=\\\"desc\\\"> {{item.descriptions}} </span> <br>\\n        <span class=\\\"desc\\\"> {{util.getString('Valid until')}} {{getTime(item.date_time)}} </span> <br>\\n      </p>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OffersPage } from './offers.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OffersPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OffersPageRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OffersPageRoutingModule } from './offers-routing.module';\n\nimport { OffersPage } from './offers.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OffersPageRoutingModule\n  ],\n  declarations: [OffersPage]\n})\nexport class OffersPageModule { }\n","export default \"@charset \\\"UTF-8\\\";\\n/*\\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 groceryee app\\n  Created : 10-Sep-2020\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n*/\\n.couponDesc {\\n  margin: 0px;\\n}\\n.couponDesc .code {\\n  font-weight: bold;\\n  font-size: 14px;\\n}\\n.couponDesc .desc {\\n  font-size: 12px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvb2ZmZXJzL29mZmVycy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL29mZmVycy9FOlxccHVuZWV0XFxmbHl2aXBfMjMtMDMtMjJcXFVzZXJfYXBwXzA2LTA0LTIwMjEvc3JjXFxhcHBcXHBhZ2VzXFxvZmZlcnNcXG9mZmVycy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsZ0JBQWdCO0FDQWhCOzs7Ozs7OztDQUFBO0FBU0E7RUFDSSxXQUFBO0FERUo7QUNESTtFQUNJLGlCQUFBO0VBQ0EsZUFBQTtBREdSO0FDREk7RUFDSSxlQUFBO0FER1IiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9vZmZlcnMvb2ZmZXJzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBjaGFyc2V0IFwiVVRGLThcIjtcbi8qXG4gIEF1dGhvcnMgOiBpbml0YXBweiAoUmFodWwgSm9ncmFuYSlcbiAgV2Vic2l0ZSA6IGh0dHBzOi8vaW5pdGFwcHouY29tL1xuICBBcHAgTmFtZSA6IGlvbmljIDUgZ3JvY2VyeWVlIGFwcFxuICBDcmVhdGVkIDogMTAtU2VwLTIwMjBcbiAgVGhpcyBBcHAgVGVtcGxhdGUgU291cmNlIGNvZGUgaXMgbGljZW5zZWQgYXMgcGVyIHRoZVxuICB0ZXJtcyBmb3VuZCBpbiB0aGUgV2Vic2l0ZSBodHRwczovL2luaXRhcHB6LmNvbS9saWNlbnNlXG4gIENvcHlyaWdodCBhbmQgR29vZCBGYWl0aCBQdXJjaGFzZXJzIMKpIDIwMjAtcHJlc2VudCBpbml0YXBwei5cbiovXG4uY291cG9uRGVzYyB7XG4gIG1hcmdpbjogMHB4O1xufVxuLmNvdXBvbkRlc2MgLmNvZGUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgZm9udC1zaXplOiAxNHB4O1xufVxuLmNvdXBvbkRlc2MgLmRlc2Mge1xuICBmb250LXNpemU6IDEycHg7XG59IiwiLypcbiAgQXV0aG9ycyA6IGluaXRhcHB6IChSYWh1bCBKb2dyYW5hKVxuICBXZWJzaXRlIDogaHR0cHM6Ly9pbml0YXBwei5jb20vXG4gIEFwcCBOYW1lIDogaW9uaWMgNSBncm9jZXJ5ZWUgYXBwXG4gIENyZWF0ZWQgOiAxMC1TZXAtMjAyMFxuICBUaGlzIEFwcCBUZW1wbGF0ZSBTb3VyY2UgY29kZSBpcyBsaWNlbnNlZCBhcyBwZXIgdGhlXG4gIHRlcm1zIGZvdW5kIGluIHRoZSBXZWJzaXRlIGh0dHBzOi8vaW5pdGFwcHouY29tL2xpY2Vuc2VcbiAgQ29weXJpZ2h0IGFuZCBHb29kIEZhaXRoIFB1cmNoYXNlcnMgwqkgMjAyMC1wcmVzZW50IGluaXRhcHB6LlxuKi9cbi5jb3Vwb25EZXNje1xuICAgIG1hcmdpbjogMHB4O1xuICAgIC5jb2Rle1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgIH1cbiAgICAuZGVzY3tcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgIH1cbn0iXX0= */\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit } from '@angular/core';\nimport { ApiService } from 'src/app/services/api.service';\nimport { UtilService } from 'src/app/services/util.service';\nimport { NavController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { CartService } from 'src/app/services/cart.service';\n\n@Component({\n  selector: 'app-offers',\n  templateUrl: './offers.page.html',\n  styleUrls: ['./offers.page.scss'],\n})\nexport class OffersPage implements OnInit {\n  dummy = Array(5);\n  list: any[] = [];\n  dummyList: any[] = [];\n  page = 1;\n  constructor(\n    public api: ApiService,\n    public util: UtilService,\n    private navCtrl: NavController,\n    public cart: CartService\n  ) {\n    this.getOffers();\n  }\n\n  ngOnInit() {\n  }\n\n  getOffers() {\n    // this.dummy = Array(5);\n    this.api.get('offers').subscribe((data: any) => {\n      console.log(data);\n      this.dummy = [];\n      if (data && data.status === 200 && data.data && data.data.length) {\n        const info = data.data.filter(x => x.status === '1');\n        this.list = info;\n        this.dummyList = info;\n      }\n    }, error => {\n      console.log(error);\n      this.util.errorToast(this.util.getString('Something went wrong'));\n    });\n  }\n\n  back() {\n    this.navCtrl.back();\n  }\n\n  selected(item) {\n    console.log(item);\n    const min = parseFloat(item.min);\n    if (this.cart.totalPrice >= min) {\n      this.cart.coupon = item;\n      this.util.publishCoupon(item);\n      this.back();\n    } else {\n      console.log('not valid with minimum amout', min);\n      this.util.showToast(this.util.getString('Sorry') + '\\n' + this.util.getString('minimum cart value must be') + ' ' + min +\n        ' ' + this.util.getString('or equal'), 'danger', 'bottom');\n    }\n\n  }\n\n  getTime(time) {\n    return moment(time).format('LLLL');\n  }\n\n}\n"]}