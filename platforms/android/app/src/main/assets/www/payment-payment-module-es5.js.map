{"version":3,"sources":["webpack:///src/app/pages/payment/payment.page.html","webpack:///src/app/pages/payment/payment-routing.module.ts","webpack:///src/app/pages/payment/payment.module.ts","webpack:///src/app/pages/payment/payment.page.scss","webpack:///src/app/pages/payment/payment.page.ts"],"names":["routes","path","component","PaymentPageRoutingModule","imports","forChild","exports","PaymentPageModule","declarations","PaymentPage","router","navCtrl","cart","util","api","iab","route","zone","db","navigateToSuccess","instamojo","key","token","code","paystack","pk","sk","flutterwave","currencyValue","allDriversId","allDrivers","allDriversIdString","orderStatus","orderStatusURL","localStorage","setItem","JSON","stringify","deliveryAddress","param","id","getItem","post","subscribe","data","console","log","alldid","i","length","push","join","currecny","url","grandTotal","getCouponObservable","calcuate","discount","error","getPayments","show","get","hide","status","info","filter","x","havePayment","stripe","haveStripe","cod","haveCOD","payPal","havePayPal","razor","haveRazor","paytm","havePayTM","insta","haveInstamojo","havepayStack","haveflutterwave","creds","parse","env","live","test","stripeCode","datas","instaENV","instaPay","razorPay","keys","razorKey","showToast","getString","options","location","clearcache","zoom","toolbar","closebuttoncaption","amount","email","getEmail","logo","mediaURL","JSON_to_URLEncoded","baseUrl","browser","create","on","event","navUrl","includes","close","urlItems","URL","orderId","searchParams","makeOrder","run","navigate","queryParams","val","back","storeId","Set","map","item","store_id","forEach","element","notes","value","user","time","format","uid","date_time","datetime","add","paid_method","order_to","deliveryAt","orders","address","driver_id","total","totalPrice","grand_total","delivery_charge","deliveryPrice","coupon_code","coupon","pay_key","assignee","isPaymentInit","updateStoreOrderStatus","createOrderNotification","stores","clearCart","publishNewOrder","navigateRoot","replaceUrl","skipLocationChange","method","tax","orderTax","itemName","dateTime","phone","userInfo","mobile","name","getName","paykey","Math","floor","random","firstname","first_name","lastname","last_name","ref","makeid","ORDER_ID","CUST_ID","INDUSTRY_TYPE_ID","CHANNEL_ID","TXN_AMOUNT","allow_repeated_payments","buyer_name","purpose","redirect_url","send_email","webhook","send_sms","then","success","payment_request","longurl","message","selector","template"],"mappings":"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","file":"payment-payment-module-es5.js","sourcesContent":["export default \"<!-- \\n   Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 groceryee app\\n  Created : 10-Sep-2020\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n -->\\n<ion-header mode=\\\"ios\\\" class=\\\"ion-no-border\\\">\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"back()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"arrow-back\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title> {{util.getString('Checkout')}} </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <div class=\\\"coupones\\\" (click)=\\\"openCoupon()\\\">\\n    <img src=\\\"assets/imgs/discount.png\\\" class=\\\"badge\\\" />\\n    <ion-label class=\\\"title\\\">{{util.getString('Apply coupon code')}} <br>\\n      <p *ngIf=\\\"cart.coupon\\\">{{util.getString('Coupon Applied')}} </p>\\n    </ion-label>\\n  </div>\\n\\n  <div class=\\\"billing\\\">\\n    <div class=\\\"singleRow\\\">\\n      <ion-label class=\\\"headerTitle\\\"> {{util.getString('Item Total')}} </ion-label>\\n      <ion-label class=\\\"price\\\">\\n        <span *ngIf=\\\"util.cside ==='left'\\\"> {{util.currecny}} {{cart.totalPrice}}</span>\\n        <span *ngIf=\\\"util.cside ==='right'\\\">{{cart.totalPrice}} {{util.currecny}} </span>\\n      </ion-label>\\n    </div>\\n\\n    <div class=\\\"singleRow\\\" *ngIf=\\\"cart.coupon\\\">\\n      <ion-label class=\\\"headerTitle\\\"> {{util.getString('Discount')}} </ion-label>\\n      <ion-label class=\\\"price\\\">\\n        <span *ngIf=\\\"util.cside ==='left'\\\"> {{util.currecny}} {{cart.discount}}</span>\\n        <span *ngIf=\\\"util.cside ==='right'\\\">{{cart.discount}} {{util.currecny}} </span>\\n      </ion-label>\\n    </div>\\n<!-- \\n    <div class=\\\"singleRow\\\">\\n      <ion-label class=\\\"headerTitle\\\"> {{util.getString('Taxes & Charges')}} </ion-label>\\n      <ion-label class=\\\"price\\\">\\n        <span *ngIf=\\\"util.cside ==='left'\\\"> {{util.currecny}} {{cart.orderTax}}</span>\\n        <span *ngIf=\\\"util.cside ==='right'\\\">{{cart.orderTax}} {{util.currecny}} </span>\\n      </ion-label>\\n    </div> -->\\n\\n    <div class=\\\"singleRow\\\">\\n      <ion-label class=\\\"headerTitle\\\"> {{util.getString('Delivery Charges')}} </ion-label>\\n      <ion-label class=\\\"price\\\">\\n        <span *ngIf=\\\"util.cside ==='left'\\\"> {{util.currecny}} {{cart.deliveryPrice}}</span>\\n        <span *ngIf=\\\"util.cside ==='right'\\\">{{cart.deliveryPrice}} {{util.currecny}} </span>\\n      </ion-label>\\n    </div>\\n\\n    <div class=\\\"singleRow\\\">\\n      <ion-label class=\\\"headerTotal boldClass\\\"> {{util.getString('Grand Total')}} </ion-label>\\n      <ion-label class=\\\"priceTotal boldClass\\\">\\n\\n        <span *ngIf=\\\"util.cside ==='left'\\\"> {{util.currecny}} {{cart.grandTotal}}</span>\\n        <span *ngIf=\\\"util.cside ==='right'\\\">{{cart.grandTotal}} {{util.currecny}} </span>\\n      </ion-label>\\n    </div>\\n\\n  </div>\\n  <div class=\\\"header\\\">\\n    <ion-label class=\\\"title\\\"> {{util.getString('Payment with')}} </ion-label>\\n  </div>\\n  <!-- <ion-item (click)=\\\"openStripe()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && haveStripe\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/stripe.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with Stripe')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item> -->\\n\\n  <ion-item (click)=\\\"createOrder()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && haveCOD && (this.cart.maxPriceForCod > cart.totalPrice )\\\" >\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/cod.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Cash on Delivery')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n\\n  <!-- <ion-item (click)=\\\"paypalPayment()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && havePayPal\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/paypal.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with PayPal')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n\\n  <ion-item (click)=\\\"paytm()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && havePayTM\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/paytm.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with PayTM')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n\\n\\n  <ion-item (click)=\\\"instaPay()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && haveInstamojo\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/instamojoapp.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with Instamojo')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n\\n  <ion-item (click)=\\\"proceed()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && haveRazor\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/razor.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with RazorPay')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n\\n  <ion-item (click)=\\\"paystackPay()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && havepayStack\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/paystack.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with PayStack')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n\\n  <ion-item (click)=\\\"flutterpay()\\\" lines=\\\"none\\\" *ngIf=\\\"havePayment && havepayStack\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/flutter.png\\\" />\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('Pay with Flutterwave')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item> -->\\n\\n  <ion-item (click)=\\\"easypay()\\\" lines=\\\"none\\\">\\n    <ion-thumbnail slot=\\\"start\\\">\\n      <img src=\\\"assets/imgs/easycard.png\\\" style=\\\"object-fit: contain;\\\"/>\\n    </ion-thumbnail>\\n    <ion-label> {{util.getString('תשלום בכרטיס אשראי')}} </ion-label>\\n    <ion-icon mode=\\\"ios\\\" name=\\\"arrow-forward-outline\\\" slot=\\\"end\\\"></ion-icon>\\n  </ion-item>\\n</ion-content>\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentPage } from './payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentPageRoutingModule { }\n","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentPageRoutingModule } from './payment-routing.module';\n\nimport { PaymentPage } from './payment.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PaymentPageRoutingModule,\n  ],\n  declarations: [PaymentPage]\n})\nexport class PaymentPageModule { }\n","export default \"@charset \\\"UTF-8\\\";\\n/*\\n  Authors : initappz (Rahul Jograna)\\n  Website : https://initappz.com/\\n  App Name : ionic 5 groceryee app\\n  Created : 10-Sep-2020\\n  This App Template Source code is licensed as per the\\n  terms found in the Website https://initappz.com/license\\n  Copyright and Good Faith Purchasers © 2020-present initappz.\\n*/\\n.coupones {\\n  display: flex;\\n  padding: 20px 10px;\\n  background: #f3f3f3;\\n  margin-top: 10px;\\n}\\n.coupones .badge {\\n  width: 25px;\\n  height: 25px;\\n}\\n.coupones .title {\\n  padding: 0px 10px;\\n  color: var(--ion-color-primary);\\n}\\n.billing {\\n  padding: 5px 10px;\\n}\\n.billing .singleRow {\\n  display: flex;\\n  justify-content: space-between;\\n  padding: 10px 0px;\\n  border-bottom: 1px dashed lightgray;\\n}\\n.billing .singleRow .headerTitle {\\n  font-size: 0.8rem;\\n}\\n.billing .singleRow .boldClass {\\n  font-weight: bold;\\n}\\n.billing .singleRow .headerTotal {\\n  font-size: 1rem;\\n}\\n.billing .singleRow .priceTotal {\\n  font-size: 1rem;\\n}\\n.billing .singleRow .price {\\n  font-size: 0.8rem;\\n}\\n.header {\\n  background: #f3f3f3;\\n  padding: 20px;\\n  margin-top: 20px;\\n}\\n.header .title {\\n  font-size: 1rem;\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGF5bWVudC9wYXltZW50LnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvcGF5bWVudC9FOlxccHVuZWV0XFxmbHl2aXBfMjMtMDMtMjJcXFVzZXJfYXBwXzA2LTA0LTIwMjEvc3JjXFxhcHBcXHBhZ2VzXFxwYXltZW50XFxwYXltZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnQkFBZ0I7QUNBaEI7Ozs7Ozs7O0NBQUE7QUFTQTtFQUNJLGFBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7QURFSjtBQ0RJO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QURHUjtBQ0RJO0VBQ0ksaUJBQUE7RUFDQSwrQkFBQTtBREdSO0FDQUE7RUFDSSxpQkFBQTtBREdKO0FDRkk7RUFDSSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxpQkFBQTtFQUNBLG1DQUFBO0FESVI7QUNIUTtFQUNJLGlCQUFBO0FES1o7QUNIUTtFQUNJLGlCQUFBO0FES1o7QUNIUTtFQUNJLGVBQUE7QURLWjtBQ0hRO0VBQ0ksZUFBQTtBREtaO0FDSFE7RUFDSSxpQkFBQTtBREtaO0FDQUE7RUFDSSxtQkFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtBREdKO0FDRkk7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QURJUiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BheW1lbnQvcGF5bWVudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4vKlxuICBBdXRob3JzIDogaW5pdGFwcHogKFJhaHVsIEpvZ3JhbmEpXG4gIFdlYnNpdGUgOiBodHRwczovL2luaXRhcHB6LmNvbS9cbiAgQXBwIE5hbWUgOiBpb25pYyA1IGdyb2NlcnllZSBhcHBcbiAgQ3JlYXRlZCA6IDEwLVNlcC0yMDIwXG4gIFRoaXMgQXBwIFRlbXBsYXRlIFNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIGFzIHBlciB0aGVcbiAgdGVybXMgZm91bmQgaW4gdGhlIFdlYnNpdGUgaHR0cHM6Ly9pbml0YXBwei5jb20vbGljZW5zZVxuICBDb3B5cmlnaHQgYW5kIEdvb2QgRmFpdGggUHVyY2hhc2VycyDCqSAyMDIwLXByZXNlbnQgaW5pdGFwcHouXG4qL1xuLmNvdXBvbmVzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgcGFkZGluZzogMjBweCAxMHB4O1xuICBiYWNrZ3JvdW5kOiAjZjNmM2YzO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuLmNvdXBvbmVzIC5iYWRnZSB7XG4gIHdpZHRoOiAyNXB4O1xuICBoZWlnaHQ6IDI1cHg7XG59XG4uY291cG9uZXMgLnRpdGxlIHtcbiAgcGFkZGluZzogMHB4IDEwcHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi5iaWxsaW5nIHtcbiAgcGFkZGluZzogNXB4IDEwcHg7XG59XG4uYmlsbGluZyAuc2luZ2xlUm93IHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBwYWRkaW5nOiAxMHB4IDBweDtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IGRhc2hlZCBsaWdodGdyYXk7XG59XG4uYmlsbGluZyAuc2luZ2xlUm93IC5oZWFkZXJUaXRsZSB7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xufVxuLmJpbGxpbmcgLnNpbmdsZVJvdyAuYm9sZENsYXNzIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG4uYmlsbGluZyAuc2luZ2xlUm93IC5oZWFkZXJUb3RhbCB7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cbi5iaWxsaW5nIC5zaW5nbGVSb3cgLnByaWNlVG90YWwge1xuICBmb250LXNpemU6IDFyZW07XG59XG4uYmlsbGluZyAuc2luZ2xlUm93IC5wcmljZSB7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xufVxuXG4uaGVhZGVyIHtcbiAgYmFja2dyb3VuZDogI2YzZjNmMztcbiAgcGFkZGluZzogMjBweDtcbiAgbWFyZ2luLXRvcDogMjBweDtcbn1cbi5oZWFkZXIgLnRpdGxlIHtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBmb250LXdlaWdodDogYm9sZDtcbn0iLCIvKlxuICBBdXRob3JzIDogaW5pdGFwcHogKFJhaHVsIEpvZ3JhbmEpXG4gIFdlYnNpdGUgOiBodHRwczovL2luaXRhcHB6LmNvbS9cbiAgQXBwIE5hbWUgOiBpb25pYyA1IGdyb2NlcnllZSBhcHBcbiAgQ3JlYXRlZCA6IDEwLVNlcC0yMDIwXG4gIFRoaXMgQXBwIFRlbXBsYXRlIFNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIGFzIHBlciB0aGVcbiAgdGVybXMgZm91bmQgaW4gdGhlIFdlYnNpdGUgaHR0cHM6Ly9pbml0YXBwei5jb20vbGljZW5zZVxuICBDb3B5cmlnaHQgYW5kIEdvb2QgRmFpdGggUHVyY2hhc2VycyDCqSAyMDIwLXByZXNlbnQgaW5pdGFwcHouXG4qL1xuLmNvdXBvbmVze1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgcGFkZGluZzogMjBweCAxMHB4O1xuICAgIGJhY2tncm91bmQ6ICNmM2YzZjM7XG4gICAgbWFyZ2luLXRvcDogMTBweDtcbiAgICAuYmFkZ2V7XG4gICAgICAgIHdpZHRoOiAyNXB4O1xuICAgICAgICBoZWlnaHQ6IDI1cHg7XG4gICAgfVxuICAgIC50aXRsZXtcbiAgICAgICAgcGFkZGluZzogMHB4IDEwcHg7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7O1xuICAgIH1cbn1cbi5iaWxsaW5ne1xuICAgIHBhZGRpbmc6IDVweCAxMHB4O1xuICAgIC5zaW5nbGVSb3d7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICAgICAgcGFkZGluZzogMTBweCAwcHg7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBkYXNoZWQgbGlnaHRncmF5O1xuICAgICAgICAuaGVhZGVyVGl0bGV7XG4gICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgICAgfVxuICAgICAgICAuYm9sZENsYXNze1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgIH1cbiAgICAgICAgLmhlYWRlclRvdGFse1xuICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICB9XG4gICAgICAgIC5wcmljZVRvdGFse1xuICAgICAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICB9XG4gICAgICAgIC5wcmljZXtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4uaGVhZGVye1xuICAgIGJhY2tncm91bmQ6ICNmM2YzZjM7XG4gICAgcGFkZGluZzogMjBweDtcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgIC50aXRsZXtcbiAgICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICB9XG59Il19 */\";","/*\n  Authors : initappz (Rahul Jograna)\n  Website : https://initappz.com/\n  App Name : ionic 5 groceryee app\n  Created : 10-Sep-2020\n  This App Template Source code is licensed as per the\n  terms found in the Website https://initappz.com/license\n  Copyright and Good Faith Purchasers © 2020-present initappz.\n*/\nimport { Component, OnInit, NgZone } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { NavController } from '@ionic/angular';\nimport { CartService } from 'src/app/services/cart.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { UtilService } from 'src/app/services/util.service';\nimport { ApiService } from 'src/app/services/api.service';\nimport * as moment from 'moment';\nimport { InAppBrowser, InAppBrowserOptions } from '@ionic-native/in-app-browser/ngx';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from '@angular/fire/database';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.page.html',\n  styleUrls: ['./payment.page.scss'],\n})\nexport class PaymentPage implements OnInit {\n  \n  bookingListRef: AngularFireList<any>;\n  bookingRef: AngularFireObject<any>;\n\n  navigateToSuccess:any = 0;\n  havePayment: boolean;\n  haveStripe: boolean;\n  havePayPal: boolean;\n  haveCOD: boolean;\n  havePayTM: boolean;\n  haveInstamojo: boolean;\n  havepayStack: boolean;\n  haveflutterwave: boolean;\n  instamojo = {\n    key: '',\n    token: '',\n    code: ''\n  };\n  instaENV: any;\n  paystack = {\n    pk: '',\n    sk: '',\n    code: ''\n  };\n  flutterwave = {\n    pk: '',\n    code: ''\n  };\n  haveRazor: boolean;\n  razorKey: any;\n  currencyValue: any = \"\";\n  allDriversId:any = [];\n  allDrivers:any = [];\n  allDriversIdString = \"\";\n  orderStatus:any = 1;\n  orderStatusURL:any = \"\";\n  constructor(\n    private router: Router,\n    private navCtrl: NavController,\n    public cart: CartService,\n    public util: UtilService,\n    public api: ApiService,\n    private iab: InAppBrowser,\n    private route: ActivatedRoute,\n    private zone: NgZone,\n    private db: AngularFireDatabase\n  ) {\n\n    localStorage.setItem('deliveryAddress', JSON.stringify(this.cart.deliveryAddress));\n    const param = {\n      id: localStorage.getItem('city'),\n    }\n    this.api.post('drivers/geyByCity', param).subscribe((data: any) => {\n      this.allDrivers = data.data;\n      console.log(this.allDrivers,\"all drivers\");\n      let alldid = [];\n      for(let i = 0; i < this.allDrivers.length; i++){\n        alldid.push(this.allDrivers[i].id);\n      }    \n      this.allDriversId = alldid.join(\",\"); \n      console.log(this.allDriversId, \"all drivers return\");\n\n    });\n    if(this.cart.util.currecny == '₪'){\n      this.currencyValue = 1;\n    }else if(this.cart.util.currecny == '$'){\n      this.currencyValue = 2;\n    }else if(this.cart.util.currecny == '€'){ \n      this.currencyValue = 5;\n    }\n    console.log(\"currencyvalue\", this.cart.util.currecny);\n    console.log(\"localStorageAddress\", localStorage.getItem('deliveryAddress'));\n    // const url= 'https://secure.e-c.co.il/easycard/createform.asp?RedirectToken=ecee3392-2939-4a46-b40e-c5b080b44fb5&Sum='+this.cart.totalPrice+'&MType='+this.currencyValue+'&returnURLTrue=http://localhost:8100/success&returnURLFalse=http://localhost:8100/success';\n    const url= 'https://secure.e-c.co.il/easycard/createform.asp?RedirectToken=ecee3392-2939-4a46-b40e-c5b080b44fb5&Sum='+this.cart.grandTotal+'&MType='+this.currencyValue+'&returnURLTrue=http://localhost:8100/success&returnURLFalse=http://localhost:8100/success';\n    console.log(\"thisurl\",url);\n    this.util.getCouponObservable().subscribe((data) => {\n      console.log(data);\n      this.cart.calcuate();\n      console.log(this.cart.discount);\n    }, error => {\n      console.log(error);\n    });\n    this.getPayments();\n\n\n  }\n\n  getPayments() {\n    this.util.show();\n    this.api.get('payments').subscribe((data: any) => {\n      console.log(data);\n      this.util.hide();\n      if (data && data.status === 200 && data.data) {\n        const info = data.data.filter(x => x.status === '1');\n        console.log('total payments', info);\n        if (info && info.length > 0) {\n          console.log('---->>', info);\n          this.havePayment = true;\n          const stripe = info.filter(x => x.id === '1');\n          this.haveStripe = stripe && stripe.length > 0 ? true : false;\n          const cod = info.filter(x => x.id === '2');\n          this.haveCOD = cod && cod.length > 0 ? true : false;\n          const payPal = info.filter(x => x.id === '3');\n          this.havePayPal = payPal && payPal.length > 0 ? true : false;\n          const razor = info.filter(x => x.id === '4');\n          this.haveRazor = razor && razor.length > 0 ? true : false;\n          const paytm = info.filter(x => x.id === '5');\n          this.havePayTM = paytm && paytm.length > 0 ? true : false;\n          const insta = info.filter(x => x.id === '6');\n          this.haveInstamojo = insta && insta.length > 0 ? true : false;\n          const paystack = info.filter(x => x.id === '7');\n          this.havepayStack = paystack && paystack.length > 0 ? true : false;\n          const flutterwave = info.filter(x => x.id === '8');\n          this.haveflutterwave = flutterwave && flutterwave.length > 0 ? true : false;\n          if (this.haveStripe) {\n            // this.util.stripe = stripe;\n            if (stripe) {\n              const creds = JSON.parse(stripe[0].creds);\n              if (stripe[0].env === '1') {\n                this.util.stripe = creds.live;\n              } else {\n                this.util.stripe = creds.test;\n              }\n              this.util.stripeCode = creds && creds.code ? creds.code : 'USD';\n            }\n            console.log('============>>', this.util.stripe);\n          }\n          if (this.haveInstamojo) {\n            const datas = info.filter(x => x.id === '6');\n            this.instaENV = datas[0].env;\n            if (insta) {\n              const instaPay = JSON.parse(datas[0].creds);\n              this.instamojo = instaPay;\n              console.log('instaMOJO', this.instamojo);\n            }\n          }\n          if (this.haveRazor) {\n            const razorPay = info.filter(x => x.id === '4');\n            const env = razorPay[0].env;\n            if (razorPay) {\n              const keys = JSON.parse(razorPay[0].creds);\n              console.log('evnof razor pay', env);\n              this.razorKey = env === '0' ? keys.test : keys.live;\n              console.log('----------', this.razorKey);\n            }\n          }\n          if (this.havepayStack) {\n            const keys = JSON.parse(paystack[0].creds);\n            this.paystack = keys;\n            console.log('paystack variables', this.paystack);\n          }\n\n          if (this.haveflutterwave) {\n            const keys = JSON.parse(flutterwave[0].creds);\n            this.flutterwave = keys;\n            console.log('flutterwave config', this.flutterwave);\n          }\n        } else {\n          this.havePayment = false;\n          this.util.showToast(this.util.getString('No Payment Found'), 'danger', 'bottom');\n        }\n      } else {\n        this.havePayment = false;\n        this.util.showToast(this.util.getString('No Payment Found'), 'danger', 'bottom');\n      }\n    }, error => {\n      console.log(error);\n      this.util.hide();\n      this.havePayment = false;\n      this.util.showToast(this.util.getString('Something went wrong'), 'danger', 'bottom');\n    });\n  }\n\n  ngOnInit() {\n   //this.db.list()\n  }\n\n  proceed() {\n    // this.util.errorToast('ongoing');\n    const options: InAppBrowserOptions = {\n      location: 'no',\n      clearcache: 'yes',\n      zoom: 'yes',\n      toolbar: 'yes',\n      closebuttoncaption: 'close'\n    };\n    const param = {\n      key: this.razorKey,\n      amount: this.cart.grandTotal ? this.cart.grandTotal * 100 : 5,\n      email: this.getEmail(),\n      logo: this.api.mediaURL + this.util.logo\n    }\n    console.log('to url===>', this.api.JSON_to_URLEncoded(param))\n    const url = this.api.baseUrl + 'razorpay?' + this.api.JSON_to_URLEncoded(param);\n    const browser: any = this.iab.create(url, '_blank', options);\n    browser.on('loadstop').subscribe(event => {\n      console.log('event?;>11', event);\n      const navUrl = event.url;\n      if (navUrl.includes('success')) {\n        console.log('close');\n        browser.close();\n        const urlItems = new URL(event.url);\n        const orderId = urlItems.searchParams.get('id');\n        this.makeOrder('razorpay', orderId);\n      }\n    });\n  }\n\n  easypay() {\n    localStorage.setItem('driverid', this.allDriversId);\n    const url= 'https://secure.e-c.co.il/easycard/createform.asp?RedirectToken=ecee3392-2939-4a46-b40e-c5b080b44fb5&Sum='+this.cart.grandTotal+'&MType='+this.currencyValue+'&returnURLTrue=https://success';\n    // window.open(url, '_self');\n    const options: InAppBrowserOptions = {\n      location: 'no',\n      clearcache: 'yes',\n      zoom: 'no',\n      toolbar: 'yes',\n      closebuttoncaption: 'close'\n    };\n    const browser: any = this.iab.create(url, '_self',options);\n    browser.on('loadstop').subscribe(event => {\n      console.log('event?;>11', event);\n      const navUrl = event.url;\n      this.orderStatusURL = navUrl;\n      if (navUrl.includes('success')) {\n        browser.close();\n        if (navUrl.includes('Code=000') || navUrl.includes('Code=00') || navUrl.includes('Code=0')) {\n          this.orderStatus = 0;\n          this.navigateToSuccess = 1;\n          console.log(\"orderstatus\", this.orderStatus);\n        }else{\n          this.navigateToSuccess = 1;\n          console.log(\"orderstatus\", this.orderStatus);\n        }\n      }\n      if(this.navigateToSuccess == 1){\n        this.zone.run(() => this.router.navigate(['/success'],{\n            queryParams: { \"orderstatus\": this.orderStatus }\n          })\n        ); \n      }\n    });\n  }\n\n  \n\n  cardInfo(val) {\n\n  }\n\n  openStripe() {\n    this.router.navigate(['tabs/cart/stripe-payments']);\n  }\n\n  goToSucess() {\n    this.router.navigate(['/success']);\n  }\n\n  back() {\n    this.navCtrl.back();\n  }\n  openCoupon() {\n    this.router.navigate(['offers']);\n  }\n\n\n  async createOrder() {\n    const storeId = [...new Set(this.cart.cart.map(item => item.store_id))];\n    const orderStatus = [];\n\n    storeId.forEach(element => {\n      const info = {\n        id: element,\n        status: 'created'\n      }\n      orderStatus.push(info)\n    });\n    const notes = [\n      {\n        status: 1,\n        value: 'Order created',\n        default: 'Order created',\n        user: '',\n        time: moment().format('lll'),\n      }\n    ];\n    const param = {\n      uid: localStorage.getItem('uid'),\n      store_id: storeId.join(),\n      date_time: this.cart.datetime === 'today' ? moment().format('YYYY-MM-DD HH:mm:ss') : moment().add(1, 'days').format('YYYY-MM-DD HH:mm:ss'),\n      paid_method: 'cod',\n      order_to: this.cart.deliveryAt,\n      orders: JSON.stringify(this.cart.cart),\n      notes: JSON.stringify(notes),\n      address: this.cart.deliveryAt === 'home' ? JSON.stringify(this.cart.deliveryAddress) : '',\n      driver_id: this.cart.deliveryAt === 'home' ? this.allDriversId : '',\n      total: this.cart.totalPrice,\n      // tax: this.cart.orderTax,\n      grand_total: this.cart.grandTotal,\n      delivery_charge: this.cart.deliveryPrice,\n      coupon_code: this.cart.coupon ? JSON.stringify(this.cart.coupon) : '',\n      discount: this.cart.discount,\n      pay_key: '',\n      status: JSON.stringify(orderStatus),\n      assignee: '',\n      // fcm_token: '',\n      // title: 'testing message',\n      // msg: 'write something here'\n    }\n\n    console.log('param----->', param);\n\n    this.util.show();\n    this.api.post('orders/save', param).subscribe((data: any) => {      \n      this.util.hide(); \n      this.util.isPaymentInit = false;\n      /*============= firebase update store status ===========*/\n      if(data && data.data && data.data.store_id){\n        this.api.updateStoreOrderStatus(data.data.store_id);\n      }\n      /*============= firebase update store status ===========*/    \n      \n\n      this.api.createOrderNotification(this.cart.stores);\n\n      this.cart.clearCart();\n      this.util.publishNewOrder();\n      this.navCtrl.navigateRoot(['/tabs/orders'], { replaceUrl: true, skipLocationChange: true });\n    }, error => {\n      console.log(error);\n      this.util.hide();\n      this.util.showToast(this.util.getString('Something went wrong'), 'danger', 'bottom');\n    });\n  }\n\n  async makeOrder(method, key) {\n    //////////// new\n    //////////// new\n\n    const storeId = [...new Set(this.cart.cart.map(item => item.store_id))];\n    const orderStatus = [];\n    storeId.forEach(element => {\n      const info = {\n        id: element,\n        status: 'created'\n      }\n      orderStatus.push(info)\n    });\n    const notes = [\n      {\n        status: 1,\n        value: 'Order created',\n        default: 'Order created',\n        user: '',\n        time: moment().format('lll'),\n      }\n    ];\n    const param = {\n      uid: localStorage.getItem('uid'),\n      store_id: storeId.join(),\n      date_time: this.cart.datetime === 'today' ? moment().format('YYYY-MM-DD HH:mm:ss') : moment().add(1, 'days').format('YYYY-MM-DD HH:mm:ss'),\n      paid_method: method,\n      order_to: this.cart.deliveryAt,\n      orders: JSON.stringify(this.cart.cart),\n      notes: JSON.stringify(notes),\n      address: this.cart.deliveryAt === 'home' ? JSON.stringify(this.cart.deliveryAddress) : '',\n      driver_id: '',\n      total: this.cart.totalPrice,\n      tax: this.cart.orderTax,\n      grand_total: this.cart.grandTotal,\n      delivery_charge: this.cart.deliveryPrice,\n      coupon_code: this.cart.coupon ? JSON.stringify(this.cart.coupon) : '',\n      discount: this.cart.discount,\n      pay_key: key,\n      status: JSON.stringify(orderStatus),\n      assignee: ''\n    }\n\n    console.log('param----->', param);\n\n    this.util.show();\n    this.api.post('orders/save', param).subscribe((data: any) => {\n      console.log(data);\n\n      /*============= firebase update store status ===========*/\n      if(data && data.data && data.data.store_id){\n        this.api.updateStoreOrderStatus(data.data.store_id);\n      }\n      /*============= firebase update store status ===========*/\n\n      this.util.hide();\n      this.api.createOrderNotification(this.cart.stores);\n      this.cart.clearCart();\n      this.util.publishNewOrder();\n      this.navCtrl.navigateRoot(['/tabs/orders'], { replaceUrl: true, skipLocationChange: true });\n    }, error => {\n      console.log(error);\n      this.util.hide();\n      this.util.showToast(this.util.getString('Something went wrong'), 'danger', 'bottom');\n    });\n  }\n\n\n  paypalPayment() {\n    const options: InAppBrowserOptions = {\n      location: 'no',\n      clearcache: 'yes',\n      zoom: 'yes',\n      toolbar: 'yes',\n      closebuttoncaption: 'close'\n    };\n    const param = {\n      uid: localStorage.getItem('uid'),\n      itemName: 'groceryee',\n      grandTotal: this.cart.grandTotal,\n      dateTime: moment().format('YYYY-MM-DD HH:mm'),\n      logo: this.api.mediaURL + this.util.logo\n    }\n    console.log('to url===>', this.api.JSON_to_URLEncoded(param))\n    const url = this.api.baseUrl + 'paypal/buyProduct?' + this.api.JSON_to_URLEncoded(param);\n    const browser: any = this.iab.create(url, '_blank', options);\n    browser.on('loadstop').subscribe(event => {\n      console.log('event?;>11', event);\n      const navUrl = event.url;\n      if (navUrl.includes('success') || navUrl.includes('checkout/done')) {\n        console.log('close');\n        browser.close();\n        this.makeOrder('paypal', 'fromApp');\n      }\n    });\n  }\n\n  flutterpay() {\n    const options: InAppBrowserOptions = {\n      location: 'no',\n      clearcache: 'yes',\n      zoom: 'yes',\n      toolbar: 'yes',\n      closebuttoncaption: 'close'\n    };\n    const param = {\n      key: this.flutterwave.pk,\n      amount: this.cart.grandTotal,\n      email: this.getEmail(),\n      phone: this.util.userInfo.mobile,\n      name: this.getName(),\n      code: this.flutterwave.code,\n      logo: this.api.mediaURL + this.util.logo\n    }\n    console.log('to url===>', this.api.JSON_to_URLEncoded(param))\n    const url = this.api.baseUrl + 'flutterwave?' + this.api.JSON_to_URLEncoded(param);\n    const browser: any = this.iab.create(url, '_blank', options);\n    browser.on('loadstop').subscribe(event => {\n      console.log('event?;>11', event);\n      const navUrl = event.url;\n      if (navUrl.includes('success') || navUrl.includes('closed')) {\n        console.log('close');\n        browser.close();\n        if (navUrl.includes('success')) {\n          const urlItems = new URL(event.url);\n          const orderId = urlItems.searchParams.get('transaction_id');\n          this.makeOrder('flutterwave', orderId);\n        }\n\n      }\n    });\n  }\n\n  paystackPay() {\n    const options: InAppBrowserOptions = {\n      location: 'no',\n      clearcache: 'yes',\n      zoom: 'yes',\n      toolbar: 'yes',\n      closebuttoncaption: 'close'\n    };\n    const paykey = '' + Math.floor((Math.random() * 1000000000) + 1);\n    const param = {\n      key: this.paystack.pk,\n      email: this.util.userInfo.email,\n      amount: this.cart.grandTotal * 100,\n      firstname: this.util.userInfo.first_name,\n      lastname: this.util.userInfo.last_name,\n      ref: paykey\n    }\n    console.log('to url===>', this.api.JSON_to_URLEncoded(param))\n    const url = this.api.baseUrl + 'paystack?' + this.api.JSON_to_URLEncoded(param);\n    const browser: any = this.iab.create(url, '_blank', options);\n    browser.on('loadstop').subscribe(event => {\n      console.log('event?;>11', event);\n      const navUrl = event.url;\n      if (navUrl.includes('success') || navUrl.includes('close')) {\n        console.log('close');\n        browser.close();\n        if (navUrl.includes('success')) {\n          console.log('closed---->>>>>')\n          this.makeOrder('paystack', paykey);\n        } else {\n          console.log('closed');\n        }\n      }\n    });\n  }\n  paytm() {\n    const options: InAppBrowserOptions = {\n      location: 'no',\n      clearcache: 'yes',\n      zoom: 'yes',\n      toolbar: 'yes',\n      closebuttoncaption: 'close'\n    };\n    const orderId = this.util.makeid(20);\n    const param = {\n      ORDER_ID: orderId,\n      CUST_ID: localStorage.getItem('uid'),\n      INDUSTRY_TYPE_ID: 'Retail',\n      CHANNEL_ID: 'WAP',\n      TXN_AMOUNT: this.cart.grandTotal ? this.cart.grandTotal : 5\n    }\n    console.log('to url===>', this.api.JSON_to_URLEncoded(param))\n    const url = this.api.baseUrl + 'paytm/pay?' + this.api.JSON_to_URLEncoded(param);\n    const browser: any = this.iab.create(url, '_blank', options);\n    browser.on('loadstop').subscribe(event => {\n      console.log('event?;>11', event);\n      const navUrl = event.url;\n      if (navUrl.includes('success')) {\n        console.log('close');\n        browser.close();\n        this.makeOrder('paytm', orderId);\n      }\n    });\n  }\n\n  getName() {\n    return this.util.userInfo && this.util.userInfo.first_name ? this.util.userInfo.first_name + ' ' + this.util.userInfo.last_name : 'Groceryee';\n  }\n\n  getEmail() {\n    return this.util.userInfo && this.util.userInfo.email ? this.util.userInfo.email : 'info@groceryee.com';\n  }\n\n  instaPay() {\n    let url;\n    if (this.instaENV === '0') {\n      url = 'https://test.instamojo.com/api/1.1/payment-requests/'\n    } else {\n      url = 'https://www.instamojo.com/api/1.1/payment-requests/';\n    };\n\n    const param = {\n      allow_repeated_payments: 'False',\n      amount: this.cart.grandTotal,\n      buyer_name: this.getName(),\n      purpose: 'Groceryee order',\n      redirect_url: this.api.baseUrl + 'paypal/success',\n      phone: this.util.userInfo && this.util.userInfo.mobile ? this.util.userInfo.mobile : '',\n      send_email: 'True',\n      webhook: this.api.baseUrl,\n      send_sms: 'True',\n      email: this.getEmail()\n    };\n\n    this.util.show();\n    this.api.instaPay(url, param, this.instamojo.key, this.instamojo.token).then((data: any) => {\n      console.log(data);\n      this.util.hide();\n      console.log(JSON.parse(data.data));\n      const info = JSON.parse(data.data);\n      console.log('data.status', data.status);\n      if (data.status === 201 && info && info.success === true) {\n        const options: InAppBrowserOptions = {\n          location: 'no',\n          clearcache: 'yes',\n          zoom: 'yes',\n          toolbar: 'yes',\n          closebuttoncaption: 'close'\n        };\n        const browser: any = this.iab.create(info.payment_request.longurl, '_blank', options);\n        browser.on('loadstop').subscribe(event => {\n          const navUrl = event.url;\n          console.log('navURL', navUrl);\n          if (navUrl.includes('success')) {\n            browser.close();\n            const urlItems = new URL(event.url);\n            console.log(urlItems);\n            const orderId = urlItems.searchParams.get('payment_id');\n            this.makeOrder('instamojo', orderId);\n          }\n        });\n      } else {\n        const error = JSON.parse(data.error);\n        console.log('error message', error);\n        if (error && error.message) {\n          this.util.showToast(error.message, 'danger', 'bottom');\n          return false;\n        }\n        this.util.showToast(this.util.getString('Something went wrong'), 'danger', 'bottom');\n      }\n    }, error => {\n      console.log(error);\n      this.util.hide();\n      const message = JSON.parse(error.error);\n      console.log('error message', message);\n      if (message && message.message) {\n        this.util.showToast(message.message, 'danger', 'bottom');\n        return false;\n      }\n      this.util.showToast(this.util.getString('Something went wrong'), 'danger', 'bottom');\n    }).catch(error => {\n      console.log(error);\n      this.util.hide();\n      const message = JSON.parse(error.error);\n      console.log('error message', message);\n      if (message && message.message) {\n        this.util.showToast(message.message, 'danger', 'bottom');\n        return false;\n      }\n      this.util.showToast(this.util.getString('Something went wrong'), 'danger', 'bottom');\n    })\n  }\n\n\n  \n}\n\n"]}